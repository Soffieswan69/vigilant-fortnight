<!DOCTYPE html>
<html>
  <head>
    <title>Use density descriptors</title>
    <meta name="description" content="In this codelab, learn how to use density descriptors and srcset to load
images with the right pixel density for the user&#39;s device.
" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="robots" content="noindex">
    <meta charset="utf-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta name="full_width" value="true" />
    <link rel="preconnect" href="//www.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin="" />
    <link
      rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic|Roboto+Condensed:400,700|Roboto+Mono:400,500|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="/all.css"
    />
    <script type="module" src="confboxScript(/site/_includes/lib/app.mjs)"></script>
  </head>
  <body>
    <devsite-header
  ds-is="header"
  no-lower-row=""
  top-row--height="64"
  bottom-row--height="0"
  bottom-tabs--height="0"
  bottom-row--hidden=""
  fixed=""
  style="opacity: 1;"
>
  <div class="devsite-header--inner">
    <div class="devsite-top-logo-row-wrapper-wrapper">
      <div class="devsite-top-logo-row-wrapper">
        <div class="devsite-top-logo-row">
          <button
            type="button"
            id="devsite-hamburger-menu"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Navigation menu button"
            aria-label="Close menu"
          ></button>
          <div class="devsite-product-name-wrapper">
            <a
              href="/"
              class="devsite-site-logo-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Site logo"
            >
              <img
                src="/images/lockup.svg"
                class="devsite-site-logo"
                alt="web.dev"
              />
            </a>
          </div>
          <div class="devsite-top-logo-row-middle">
            <div class="devsite-header-upper-tabs">
              <devsite-tabs ds-is="tabs" class="upper-tabs" connected="">
                <div class="devsite-tabs-wrapper">
                  <tab>
                    <a
                      href="/learn"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Learn"
                    >
                      Learn
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/measure"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Measure"
                    >
                      Measure
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/blog"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Blog"
                    >
                      Blog
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/about"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: About"
                    >
                      About
                    </a>
                  </tab>
                  <tab overflow-tab="" hidden=""
                    ><a
                      href="/fast/use-imagemin-to-compress-images#"
                      class="devsite-icon devsite-icon-arrow-drop-down"
                      >More</a
                    >
                    <div
                      class="devsite-tabs-overflow-menu"
                      scrollbars=""
                      hidden=""
                    ></div
                  ></tab></div
              ></devsite-tabs>
            </div>
            <devsite-search
              ds-is="search"
              enable-search=""
              enable-signin=""
              enable-suggestions=""
              enable-query-completion=""
              enable-product-suggestions=""
              enable-title-suggestions=""
              enable-reference-suggestions=""
              project-path=""
            >
              <form
                class="devsite-search-form"
                action="/results/"
                method="GET"
              >
                <div class="devsite-search-container">
                  <div id="searchbox" class="devsite-searchbox">
                    <input
                      placeholder="Search"
                      type="text"
                      class="devsite-search-field devsite-search-query"
                      name="q"
                      value=""
                      autocomplete="off"
                      aria-label="Search box"
                    />
                    <div
                      class="devsite-search-image material-icons"
                    ></div>
                  </div>
                  <button
                    type="button"
                    search-open=""
                    class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                    aria-label="Open search box"
                  ></button>
                </div>
                <div class="devsite-popout">
                  <div
                    class="devsite-popout-result devsite-suggest-results-container"
                    devsite-hide=""
                    role="menu"
                    aria-haspopup="true"
                  >
                    <div class="devsite-suggest-wrapper">
                      <div class="devsite-suggest-section">
                        <div class="devsite-suggest-header">
                          Suggested searches
                        </div>
                        <devsite-analytics-scope
                          category="Site-Wide Custom Events"
                          label="Search"
                          action="Query Suggestion Click"
                          ds-is="analytics-scope"
                          ><div
                            class="devsite-result-item devsite-nav-label"
                            role="menuitem"
                            index=":0"
                          >
                            <a
                              class="devsite-result-item-link"
                              href="/results/?q=api"
                              ><span class="devsite-suggestion-fragment"
                                ><b></b>a<b></b>p<b></b>i<b></b></span
                            ></a>
                          </div>
                          <devsite-analytics-scope
                            category="Site-Wide Custom Events"
                            label="Search"
                            action="Query Suggestion Click"
                            ds-is="analytics-scope"
                            ><div
                              class="devsite-result-item devsite-nav-label"
                              role="menuitem"
                              index=":1"
                            >
                              <a
                                class="devsite-result-item-link"
                                href="/results/?q=google"
                                ><span class="devsite-suggestion-fragment"
                                  ><b></b>g<b></b>o<b></b>o<b></b>g<b
                                  ></b>l<b></b>e<b></b></span
                              ></a>
                            </div>
                            <devsite-analytics-scope
                              category="Site-Wide Custom Events"
                              label="Search"
                              action="Query Suggestion Click"
                              ds-is="analytics-scope"
                              ><div
                                class="devsite-result-item devsite-nav-label"
                                role="menuitem"
                                index=":2"
                              >
                                <a
                                  class="devsite-result-item-link"
                                  href="/results/?q=developers"
                                  ><span
                                    class="devsite-suggestion-fragment"
                                    ><b></b>d<b></b>e<b></b>v<b></b>e<b
                                    ></b>l<b></b>o<b></b>p<b></b>e<b
                                    ></b>r<b></b>s<b></b></span
                                ></a>
                              </div>
                              <devsite-analytics-scope
                                category="Site-Wide Custom Events"
                                label="Search"
                                action="Query Suggestion Click"
                                ds-is="analytics-scope"
                                ><div
                                  class="devsite-result-item devsite-nav-label"
                                  role="menuitem"
                                  index=":3"
                                >
                                  <a
                                    class="devsite-result-item-link"
                                    href="/results/?q=cloud"
                                    ><span
                                      class="devsite-suggestion-fragment"
                                      ><b></b>c<b></b>l<b></b>o<b></b>u<b
                                      ></b>d<b></b></span
                                  ></a>
                                </div>
                                <devsite-analytics-scope
                                  category="Site-Wide Custom Events"
                                  label="Search"
                                  action="Query Suggestion Click"
                                  ds-is="analytics-scope"
                                  ><div
                                    class="devsite-result-item devsite-nav-label"
                                    role="menuitem"
                                    index=":4"
                                  >
                                    <a
                                      class="devsite-result-item-link"
                                      href="/results/?q=site"
                                      ><span
                                        class="devsite-suggestion-fragment"
                                        ><b></b>s<b></b>i<b></b>t<b
                                        ></b>e<b></b></span
                                    ></a></div></devsite-analytics-scope></devsite-analytics-scope></devsite-analytics-scope></devsite-analytics-scope
                        ></devsite-analytics-scope>
                      </div>
                      <div class="devsite-suggest-footer">
                        <button
                          type="submit"
                          class="button button-white devsite-suggest-all-results"
                        >
                          See all results for ""
                        </button>
                      </div>
                    </div>
                  </div>
                  <div
                    class="devsite-popout-result devsite-history-container"
                    devsite-hide=""
                    role="menu"
                    aria-haspopup="true"
                  ></div>
                </div>
              </form>
              <button
                type="button"
                search-close=""
                class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                aria-label="Close search box"
              ></button>
            </devsite-search>

            <devsite-search-background
              style="opacity: 1;"
            ></devsite-search-background>
          </div>

          <devsite-user
            ds-is="user"
            sign-in-url="https://web.dev/_d/signin?continue=https%3A%2F%2Fweb.dev%2Ffast%2Fuse-imagemin-to-compress-images"
            ><div class="ogb-wrapper ogb-si">
              <a
                href="https://web.dev/_d/signin?continue=https%3A%2F%2Fweb.dev%2Ffast%2Fuse-imagemin-to-compress-images"
                class="devsite-user-signin button devsite-top-button"
              >
                Sign in
              </a>
            </div></devsite-user
          >
        </div>
      </div>
    </div>
    <div
      class="devsite-collapsible-section
      devsite-header-no-lower-tabs
"
    >
      <div class="devsite-header-background"></div>
    </div>
  </div>
</devsite-header>
    <main>
      <div id="content">
        


<style>
  web-codelab {
    display: flex;
    height: 100%;
  }

  .web-codelab-glitch {
    flex: 1;
    padding: 16px;
  }
</style>


<div class="codelab-landing-page">
  <web-codelab glitch="responsive-images-density-descriptors" path="[object Object]" preview-size="" attribution-hidden>
    <div class="web-codelab-instructions">
      <h1 class="w-headline w-headline--two w-mb--sm">Use density descriptors</h1>
      
        <div class="w-author__published">
          <time>Nov 5, 2018</time>
          
        </div>
      

      
        <div class="w-authors w-mt--xl w-pt--sm">
          
            <div class="w-author">
  <img
    class="w-author__image "
    src="/images/authors/katiehempenius.jpg"
    alt="Katie Hempenius"
  />
  <div class="w-author__info" style="display: flex; flex-direction: column; justify-content: center;">
    <cite class="w-author__name">Katie Hempenius</cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/katiehempenius">Twitter</a>
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/khempenius">GitHub</a>
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://glitch.com/@khempenius">Glitch</a>
      </li>
    </ul>
  </div>
</div>
          
        </div>
      

      <h2 id="explore-this-demo">Explore This Demo <a class="w-headline-link" href="#explore-this-demo" aria-hidden="true">#</a></h2>
<ul>
<li>To preview the site, mouse over the editor, press the <strong>App</strong> button, then the
<strong>Show</strong> button.</li>
<li>Reload the page using different devices to see the browser load different
images.</li>
</ul>
<p>You can use the device emulator for this. If you're looking for specific display
densities, here are some devices to try:</p>
<div class="w-table-wrapper">
  <table>
    <tbody>
      <tr>
        <td>1x density</td>
        <td>Blackberry Playbook, many external monitors</td>
      </tr>
      <tr>
        <td>2x density</td>
        <td>iPad or IPhone 5/6</td>
      </tr>
      <tr>
        <td>3x density</td>
        <td>Galaxy S5 or iPhone X</td>
      </tr>
    </tbody>
  </table>
</div>
<ul>
<li>Checkout <code>index.html</code> for the code that makes this work.</li>
</ul>
<h2 id="how-does-it-work">How does it work? <a class="w-headline-link" href="#how-does-it-work" aria-hidden="true">#</a></h2>
<p>The concept of density descriptors may be unfamiliar to most folks. To better
understand them, it helps to have a bit of background on how the browser works
with pixels.</p>
<h2 id="what-are-pixels">What are pixels <a class="w-headline-link" href="#what-are-pixels" aria-hidden="true">#</a></h2>
<p>Let's start at the very beginning by defining what a pixel is. This sounds
simple, but &quot;pixel&quot; can actually have many meanings:</p>
<dl>
  <dt>
    Device pixel (a.k.a. "physical pixel")
  </dt>
  <dd>
    The smallest dot of color that can be displayed on a device.
  </dd>
  <dt>
    Logical pixel
  </dt>
  <dd>
    Information that specifies the color at a particular location on a grid.
    This type of pixel has no inherent physical size.
  </dd>
  <dt>
    CSS pixel
  </dt>
  <dd>
    The CSS spec defines a pixel as a unit of physical measurement. 1 pixel =
1/96th of an inch.
  </dd>
</dl>
<h2 id="pixel-density">Pixel Density <a class="w-headline-link" href="#pixel-density" aria-hidden="true">#</a></h2>
<p>Pixel density (also referred to as &quot;screen density&quot; or &quot;display density&quot;)
measures <em>the density of device pixels in a given physical area</em>. This is
commonly measured using pixels per inch (ppi).</p>
<p>For many years, 96 ppi was a very common display density (hence CSS defining a
pixel as 1/96th of an inch). Starting in the 1980s it was the default resolution
of Windows. In addition, it was the resolution of <a href="https://en.wikipedia.org/wiki/Cathode_ray_tube">CRT
monitors</a>.</p>
<p>This began to change as LED monitors became common in the 2000s. In particular,
Apple made a big splash in 2010 when it introduced Retina displays. These
displays had a minimum resolution of 192 ppi, which was twice the resolution of
&quot;regular&quot; displays (192 ppi/96 ppi = 2).</p>
<h2 id="window.devicepixelratio">window.devicePixelRatio <a class="w-headline-link" href="#window.devicepixelratio" aria-hidden="true">#</a></h2>
<p>With the introduction of newer display technology, &quot;device pixels&quot; began to vary
in physical size and <a href="https://en.wikipedia.org/wiki/Pixel_aspect_ratio">shape</a>
and were no longer the same size as &quot;CSS pixels&quot;. The need to define the
relationship between the size of &quot;device pixels&quot; and &quot;CSS pixels&quot; is what led to
the introduction of the <code>devicePixelRatio</code> (sometimes called the &quot;CSS Pixel
Ratio&quot;).</p>
<p><code>devicePixelRatio</code> defines the relationship between device pixels and CSS pixels
for a particular device. A 192 ppi device has a <code>devicePixelRatio</code> of 2 (192
ppi/96 ppi = 2) because &quot;2 of its display pixels are the size of 1 CSS pixel&quot;.</p>
<p>These days most devices have a device-pixel-ratio between 1.0 and 4.0.</p>
<div class="w-aside w-aside--note">
<p>This ratio doesn't have to be a whole number. <code>1.5</code>, <code>2.4</code>, and <code>2.5</code> are all
device-pixel-ratios of common devices.</p>
</div>
<ul>
<li>
<p>Determine the pixel density of a device by typing <code>window.devicePixelRatio</code>
in the console.</p>
</li>
<li>
<p>View <a href="https://www.mydevice.io/#tab1">this table</a> to see the pixel ratios of
common devices. Most are between 1.0 and 4.0.</p>
</li>
</ul>
<p>So how do you actually apply this information?</p>
<h2 id="size-images-based-on-device-pixel-ratios">Size images based on device-pixel-ratios <a class="w-headline-link" href="#size-images-based-on-device-pixel-ratios" aria-hidden="true">#</a></h2>
<p>In order for images to look their very best on high resolution screens, it's
necessary to provide different image versions for different <code>devicePixelRatios</code>.</p>
<div class="w-table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Device Pixel Ratio</th>
        <th>Indicates that:</th>
        <th>
          On this device, an &lt;img&gt; tag with a CSS width of 250 pixels, will
          look best when the source image is...
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>1 device pixel = 1 CSS pixel</td>
        <td>250 pixels wide</td>
      </tr>
      <tr>
        <td>2</td>
        <td>2 device pixels = 1 CSS pixel</td>
        <td>500 pixels wide</td>
      </tr>
      <tr>
        <td>3</td>
        <td>3 device pixels = 1 CSS pixel</td>
        <td>750 pixels wide</td>
      </tr>
    </tbody>
  </table>
</div>
<p>Things to note:</p>
<ul>
<li>The pixel dimensions listed in image editors, file directories, and
other places are a measurement of logical pixels.</li>
<li>For higher resolution screens and larger displays you'll need images with
larger dimensions. Merely enlarging smaller images defeats the purpose of
serving multiple image versions. The browser would have done this anyway if
a high resolution image was not provided.</li>
</ul>
<div class="w-aside w-aside--note">
<p>Tools like <a href="https://www.npmjs.com/package/sharp">sharp</a> make it easy
to create multiple sizes of an image. This is covered in more detail here.</p>
</div>
<h2 id="use-density-descriptors-to-serve-multiple-images">Use Density Descriptors to serve multiple <br> images <a class="w-headline-link" href="#use-density-descriptors-to-serve-multiple-images" aria-hidden="true">#</a></h2>
<p>Density descriptors, in conjunction with the &quot;srcset &quot; attribute, can be used to
serve different images to different devicePixelRatios.</p>
<ul>
<li>Take a look at the <code>index.html</code> file and note the <code>&lt;img&gt;</code> element.</li>
</ul>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>flower.jpg<span class="token punctuation">"</span></span><br>  <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>flower-1x.jpg 1x,<br><span class="highlight-line">          flower-2x.jpg 2x,</span><br>          flower-3x.jpg 3x<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>This example put into words:</p>
<ul>
<li><code>1x</code>, <code>2x</code>, and <code>3x</code> are all density descriptors that tell the browser
the pixel density that an image is intended for. This saves the browser
from needing to download an image to determine this information.</li>
<li>The browser can choose between three images: <code>flower-1x.jpg</code> (intended
for browsers with a <code>1.0</code> pixel density), <code>flower-2x.jpg</code> (intended for
browsers with a <code>2.0</code> pixel density), and <code>flower-3x.jpg</code> (intended for
browsers with a <code>3.0</code> pixel density).</li>
<li><code>flower.jpg</code> is the fallback image for browsers that do not support
<code>srcset</code>.</li>
</ul>
<p>How to use this:</p>
<ul>
<li>Use a devicePixelRatio and the <code>x</code> unit to write density descriptors. For
example, the density descriptor for many Retina screens
(<code>window.devicePixelRatio = 2</code>) would be written as <code>2x</code>.</li>
<li>If a density descriptor isn't provided, it is assumed to be <code>1x</code>.</li>
<li>Including density descriptors in filenames is a common convention (and will
help you keep track of files) but is not necessary. Images can have any
filename.</li>
<li>There is no need to include a <code>sizes</code> attribute. The <code>sizes</code> attribute is only
used with width descriptors.</li>
</ul>

      
        <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back w-article-navigation__link--single gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/serve-responsive-images"
  >
    Return to article
  </a>
  
</nav>
      
    </div>

    
    
      <div class="web-codelab-glitch">
        <div class="glitch-embed-wrap" style="height: 100%; width: 100%;">
          <iframe
            allow="geolocation; microphone; camera; midi; encrypted-media"
            src="https://glitch.com/embed/#!/embed/responsive-images-density-descriptors?path=[object Object]&amp;previewSize="
            alt="responsive-images-density-descriptors on Glitch"
            style="height: 100%; width: 100%; border: 0;"
          >
          </iframe>
        </div>
      </div>
    

  </web-codelab>
</div>

      </div>
    </main>
  </body>
</html>