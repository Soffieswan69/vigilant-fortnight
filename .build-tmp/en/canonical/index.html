<!DOCTYPE html>
<html>
  <head>
    <title>Document doesn&#39;t have a valid rel=canonical</title>
    <meta name="description" content="Learn about the canonical audit.
" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="robots" content="noindex">
    <meta charset="utf-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta name="full_width" value="true" />
    <link rel="preconnect" href="//www.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin="" />
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin="" />
    <link
      rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic|Roboto+Condensed:400,700|Roboto+Mono:400,500|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="/all.css"
    />
    <script type="module" src="confboxScript(/site/_includes/lib/app.mjs)"></script>
  </head>
  <body>
    <devsite-header
  ds-is="header"
  no-lower-row=""
  top-row--height="64"
  bottom-row--height="0"
  bottom-tabs--height="0"
  bottom-row--hidden=""
  fixed=""
  style="opacity: 1;"
>
  <div class="devsite-header--inner">
    <div class="devsite-top-logo-row-wrapper-wrapper">
      <div class="devsite-top-logo-row-wrapper">
        <div class="devsite-top-logo-row">
          <button
            type="button"
            id="devsite-hamburger-menu"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Navigation menu button"
            aria-label="Close menu"
          ></button>
          <div class="devsite-product-name-wrapper">
            <a
              href="/"
              class="devsite-site-logo-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Site logo"
            >
              <img
                src="/images/lockup.svg"
                class="devsite-site-logo"
                alt="web.dev"
              />
            </a>
          </div>
          <div class="devsite-top-logo-row-middle">
            <div class="devsite-header-upper-tabs">
              <devsite-tabs ds-is="tabs" class="upper-tabs" connected="">
                <div class="devsite-tabs-wrapper">
                  <tab>
                    <a
                      href="/learn"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Learn"
                    >
                      Learn
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/measure"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Measure"
                    >
                      Measure
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/blog"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: Blog"
                    >
                      Blog
                    </a>
                  </tab>
                  <tab>
                    <a
                      href="/about"
                      class="gc-analytics-event"
                      data-category="Site-Wide Custom Events"
                      data-label="Tab: About"
                    >
                      About
                    </a>
                  </tab>
                  <tab overflow-tab="" hidden=""
                    ><a
                      href="/fast/use-imagemin-to-compress-images#"
                      class="devsite-icon devsite-icon-arrow-drop-down"
                      >More</a
                    >
                    <div
                      class="devsite-tabs-overflow-menu"
                      scrollbars=""
                      hidden=""
                    ></div
                  ></tab></div
              ></devsite-tabs>
            </div>
            <devsite-search
              ds-is="search"
              enable-search=""
              enable-signin=""
              enable-suggestions=""
              enable-query-completion=""
              enable-product-suggestions=""
              enable-title-suggestions=""
              enable-reference-suggestions=""
              project-path=""
            >
              <form
                class="devsite-search-form"
                action="/results/"
                method="GET"
              >
                <div class="devsite-search-container">
                  <div id="searchbox" class="devsite-searchbox">
                    <input
                      placeholder="Search"
                      type="text"
                      class="devsite-search-field devsite-search-query"
                      name="q"
                      value=""
                      autocomplete="off"
                      aria-label="Search box"
                    />
                    <div
                      class="devsite-search-image material-icons"
                    ></div>
                  </div>
                  <button
                    type="button"
                    search-open=""
                    class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                    aria-label="Open search box"
                  ></button>
                </div>
                <div class="devsite-popout">
                  <div
                    class="devsite-popout-result devsite-suggest-results-container"
                    devsite-hide=""
                    role="menu"
                    aria-haspopup="true"
                  >
                    <div class="devsite-suggest-wrapper">
                      <div class="devsite-suggest-section">
                        <div class="devsite-suggest-header">
                          Suggested searches
                        </div>
                        <devsite-analytics-scope
                          category="Site-Wide Custom Events"
                          label="Search"
                          action="Query Suggestion Click"
                          ds-is="analytics-scope"
                          ><div
                            class="devsite-result-item devsite-nav-label"
                            role="menuitem"
                            index=":0"
                          >
                            <a
                              class="devsite-result-item-link"
                              href="/results/?q=api"
                              ><span class="devsite-suggestion-fragment"
                                ><b></b>a<b></b>p<b></b>i<b></b></span
                            ></a>
                          </div>
                          <devsite-analytics-scope
                            category="Site-Wide Custom Events"
                            label="Search"
                            action="Query Suggestion Click"
                            ds-is="analytics-scope"
                            ><div
                              class="devsite-result-item devsite-nav-label"
                              role="menuitem"
                              index=":1"
                            >
                              <a
                                class="devsite-result-item-link"
                                href="/results/?q=google"
                                ><span class="devsite-suggestion-fragment"
                                  ><b></b>g<b></b>o<b></b>o<b></b>g<b
                                  ></b>l<b></b>e<b></b></span
                              ></a>
                            </div>
                            <devsite-analytics-scope
                              category="Site-Wide Custom Events"
                              label="Search"
                              action="Query Suggestion Click"
                              ds-is="analytics-scope"
                              ><div
                                class="devsite-result-item devsite-nav-label"
                                role="menuitem"
                                index=":2"
                              >
                                <a
                                  class="devsite-result-item-link"
                                  href="/results/?q=developers"
                                  ><span
                                    class="devsite-suggestion-fragment"
                                    ><b></b>d<b></b>e<b></b>v<b></b>e<b
                                    ></b>l<b></b>o<b></b>p<b></b>e<b
                                    ></b>r<b></b>s<b></b></span
                                ></a>
                              </div>
                              <devsite-analytics-scope
                                category="Site-Wide Custom Events"
                                label="Search"
                                action="Query Suggestion Click"
                                ds-is="analytics-scope"
                                ><div
                                  class="devsite-result-item devsite-nav-label"
                                  role="menuitem"
                                  index=":3"
                                >
                                  <a
                                    class="devsite-result-item-link"
                                    href="/results/?q=cloud"
                                    ><span
                                      class="devsite-suggestion-fragment"
                                      ><b></b>c<b></b>l<b></b>o<b></b>u<b
                                      ></b>d<b></b></span
                                  ></a>
                                </div>
                                <devsite-analytics-scope
                                  category="Site-Wide Custom Events"
                                  label="Search"
                                  action="Query Suggestion Click"
                                  ds-is="analytics-scope"
                                  ><div
                                    class="devsite-result-item devsite-nav-label"
                                    role="menuitem"
                                    index=":4"
                                  >
                                    <a
                                      class="devsite-result-item-link"
                                      href="/results/?q=site"
                                      ><span
                                        class="devsite-suggestion-fragment"
                                        ><b></b>s<b></b>i<b></b>t<b
                                        ></b>e<b></b></span
                                    ></a></div></devsite-analytics-scope></devsite-analytics-scope></devsite-analytics-scope></devsite-analytics-scope
                        ></devsite-analytics-scope>
                      </div>
                      <div class="devsite-suggest-footer">
                        <button
                          type="submit"
                          class="button button-white devsite-suggest-all-results"
                        >
                          See all results for ""
                        </button>
                      </div>
                    </div>
                  </div>
                  <div
                    class="devsite-popout-result devsite-history-container"
                    devsite-hide=""
                    role="menu"
                    aria-haspopup="true"
                  ></div>
                </div>
              </form>
              <button
                type="button"
                search-close=""
                class="devsite-search-button devsite-header-icon-button button-flat material-icons"
                aria-label="Close search box"
              ></button>
            </devsite-search>

            <devsite-search-background
              style="opacity: 1;"
            ></devsite-search-background>
          </div>

          <devsite-user
            ds-is="user"
            sign-in-url="https://web.dev/_d/signin?continue=https%3A%2F%2Fweb.dev%2Ffast%2Fuse-imagemin-to-compress-images"
            ><div class="ogb-wrapper ogb-si">
              <a
                href="https://web.dev/_d/signin?continue=https%3A%2F%2Fweb.dev%2Ffast%2Fuse-imagemin-to-compress-images"
                class="devsite-user-signin button devsite-top-button"
              >
                Sign in
              </a>
            </div></devsite-user
          >
        </div>
      </div>
    </div>
    <div
      class="devsite-collapsible-section
      devsite-header-no-lower-tabs
"
    >
      <div class="devsite-header-background"></div>
    </div>
  </div>
</devsite-header>
    <main>
      <div id="content">
        


<div class="guide-landing-page">
  

  
  <web-actions-controller page="post"></web-actions-controller>
  <div class="w-actions">     <a   class="w-actions__fab w-actions__fab--share"   href="https://twitter.com/share?text=Document%20doesn't%20have%20a%20valid%20rel%3Dcanonical&amp;url=https%3A%2F%2Fweb.dev%2Fcanonical%2F"   onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;" >   <span>Share</span> </a>     <a   class="w-actions__fab w-actions__fab--subscribe"   href="https://web.dev/subscribe" >   <span>Subscribe</span> </a>   </div>

  <div class="w-layout-container--narrow w-post-breadcrumbs">
    <ul class="w-breadcrumbs">
  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link w-breadcrumbs__link--left-justify gc-analytics-event"
      data-category="web.dev"
      data-label="post, home breadcrumb"
      data-action="click"
      href="/"
    >
      Home
    </a>
  </li>
  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link gc-analytics-event"
      data-category="web.dev"
      data-label="post, path breadcrumb"
      data-action="click"
      href=/lighthouse-seo
    >
      SEO audits
    </a>
  </li>
</ul>
  </div>

  <div class="w-layout-container--narrow w-post-content">
    <header class="w-article-header">
      <h1 class="w-article-header__headline">Document doesn&#39;t have a valid rel=canonical</h1>
      

      

      
    </header>
    <p>When multiple pages have similar content,
search engines consider them duplicate versions of the same page.
Search engines select one of the pages as the canonical version and crawl that one more.
Canonical links let you explicitly specify which version to crawl.
Lighthouse flags pages with an invalid <code>rel=canonical</code>:</p>
<figure class="w-figure">
  <img class="w-screenshot w-screenshot--filled" src="canonical.png" alt="Lighthouse audit showing document with invalid canonical link">
  <figcaption class="w-figcaption">
    Document has an invalid canonical link.
  </figcaption>
</figure>
<h2 id="what-causes-the-audit-to-fail">What causes the audit to fail <a class="w-headline-link" href="#what-causes-the-audit-to-fail" aria-hidden="true">#</a></h2>
<p>Lighthouse marks the audit as a fail if any of the following are true:</p>
<ul>
<li>There is more than 1 canonical link.</li>
<li>The canonical link is not a valid URL.</li>
<li>The canonical link points to a page for a different region or language.</li>
<li>The canonical link points to a different domain.</li>
<li>The canonical link points to the site root. Note that this may be valid in some scenarios,
such as for AMP or mobile page variations, but nonetheless Lighthouse marks this scenario as
a failure.</li>
</ul>
<div class="w-aside w-aside--note">
<p>Each SEO audit is weighted equally
in the Lighthouse SEO Score,
with the exception of the manual audit,
<a href="/structured-data">structured-data audit</a>.
Learn more in <a href="https://developers.google.com/web/tools/lighthouse/v3/scoring">Lighthouse Scoring Guide</a>.</p>
</div>
<h2 id="how-to-add-canonical-links-to-your-pages">How to add canonical links to your pages <a class="w-headline-link" href="#how-to-add-canonical-links-to-your-pages" aria-hidden="true">#</a></h2>
<p>Add a canonical link element to the <code>head</code> element of your HTML:</p>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token doctype">&lt;!doctype html></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    ...</span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>canonical<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></span><br><span class="highlight-line">    ...</span></code></pre>
<p>Or, add a <code>Link</code> header to your HTTP response:</p>
<pre class="language-html"><code class="language-html"><span class="highlight-line">Link: https://example.com; rel=canonical</span></code></pre>
<p>Learn more in <a href="/tell-search-engine-canonical-url">Tell search engines which version of a page to crawl</a>.</p>
<h2 id="implementation-guidelines">Implementation guidelines <a class="w-headline-link" href="#implementation-guidelines" aria-hidden="true">#</a></h2>
<ul>
<li>Make sure that the canonical URL is valid.</li>
<li>Use secure HTTPS canonical URLs over HTTP ones as much as possible. Make sure that the page
is completely secure and doesn't have any mixed content errors. See <a href="https://developers.google.com/web/tools/chrome-devtools/security/">Understand Security
Issues</a> to learn how to diagnose security errors in Chrome DevTools.</li>
<li>Make sure that the canonical URL is valid.</li>
<li>If you use <a href="https://support.google.com/webmasters/answer/189077">hreflang links</a> to serve different versions of a page
depending on a user's language or country, make sure that the canonical URL points to the
proper page for that respective language or country.</li>
<li>Don't point the canonical URL to a different domain. Yahoo and Bing don't allow this.</li>
<li>Don't point pages to the site's root page, unless their content is the same. This may be
valid in some cases, such as for AMP or mobile page variations, but nonetheless Lighthouse
treats this scenario as a failure.</li>
</ul>
<h2 id="google-specific-guidelines">Google-specific guidelines <a class="w-headline-link" href="#google-specific-guidelines" aria-hidden="true">#</a></h2>
<ul>
<li>Use the <a href="https://search.google.com/search-console/index">Index Status Report</a> to see which URLs Google considers canonical
or duplicate across your entire site.</li>
<li>Don't use Google's URL removal tool for canonization. It removes <em>all</em> versions of a URL
from search.</li>
<li>You can use the Search Console to specify a preferred domain for all pages. See <a href="https://support.google.com/webmasters/answer/44231">Set your
preferred domain</a>.</li>
</ul>
<div class="w-aside w-aside--note">
<p>Recommendations for other search engines are welcome.
<a href="https://github.com/google/WebFundamentals/tree/master/src/content/en/tools/lighthouse/audits/canonical.md">Edit this page.</a></p>
</div>
<h2 id="why-you-should-add-canonical-links-to-your-pages">Why you should add canonical links to your pages <a class="w-headline-link" href="#why-you-should-add-canonical-links-to-your-pages" aria-hidden="true">#</a></h2>
<p>There are multiple advantages to adding canonical links:</p>
<ul>
<li>You get to specify which URL should appear in search results.</li>
<li>It helps search engines consolidate multiple URLs into a single, preferred URL. For example,
if other sites put query parameters on the ends of links to your page, search engines
consolidate those URLs to your preferred version.</li>
<li>It simplifies tracking methods. Tracking one URL is easier than tracking many.</li>
<li>It improves the page ranking of syndicated content by consolidating the syndicated links to
your original content back to your preferred URL.</li>
<li>It optimizes crawling time. Time spent crawling duplicate pages is time not spent crawling
other pages with truly unique content.</li>
</ul>
<h2 id="more-information">More information <a class="w-headline-link" href="#more-information" aria-hidden="true">#</a></h2>
<ul>
<li><a href="https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/audits/seo/canonical.js">Invalid canonical link audit source</a></li>
<li><a href="https://support.google.com/webmasters/answer/139066">Consolidate duplicate URLs</a></li>
<li><a href="https://support.google.com/webmasters/answer/6080548">Learn the impact of duplicate URLs</a></li>
<li><a href="https://webmasters.googleblog.com/2013/04/5-common-mistakes-with-relcanonical.html">5 common mistakes with rel=canonical</a></li>
</ul>


     

    <div class="w-post-github-link w-mt--l w-mb--l">
      <span class="w-mr--sm">
        
        Last updated: <time>Jul 1, 2019</time>
        
      </span>
      <a
        href="https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/lighthouse-seo/canonical/index.md"
      >
        Improve article
      </a>
       
    </div>

    
  </div>

  
    
    <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back  gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/lighthouse-seo"
  >
    Return to all articles
  </a>
  <a
    class="w-article-navigation__link w-article-navigation__link--forward gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go forward"
    data-action="click"
    href="/plugins/"
  >
    <div class="w-article-navigation__column">
      <h3 class="w-article-navigation__heading">Next article</h3>
      Document uses plugins
    </div>
  </a>
</nav>
  

  
  
</div>

      </div>
    </main>
  </body>
</html>